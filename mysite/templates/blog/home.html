{% extends 'base.html' %}
{% load static %}
{% load imagekit %}

{% block content %}

    {% comment %} Articles {% endcomment %}
    {% comment %} <div class="container">
        <div class="card">
            <div class="card-body">
            
            </div>
        </div>
        {% for article in articles %}
        <div class="article-block">
            <a href="{% url 'article' slug=article.slug %}"><img src="{{ article.image_url }}"></a>
            <a href="{% url 'article' slug=article.slug %}"><h2>{{ article.title }}</h2></a>
            <p>{{ article.published_date|date:"N, j, Y" }}  Comments: {{ article_comments|get_item:article }}</p>
            <p>{{ article.content|truncatewords:20|safe }}</p>
            <p>Categories: 
            {% for category in article.categories.all %}
                <span style="margin-right:5px;">{{ category }}</span>
            {% endfor %}
            </p>
        </div>
    {% empty %}
        <p>No content for you.</p>
    
    {% endfor %}
    
    
    </div> {% endcomment %}

    {% comment %} ################3 {% endcomment %}
    <div class="container mt-5">
        <div class="row">
            
            <div id="articles" class="col-12 col-lg-9">

                <!-- width >= lg -->
                
                    
                    
                    {% for article in articles %}
                        {% if forloop.first %}
                            <div class="row mb-5">
                                <div class="col-12">
                                    <div class="card text-white">
            
                                        <img class="img-card-top" src="media/{{ article.thumbnail }}" alt="" >
                                        
                                        <div class="card-img-overlay d-flex" style="padding: 0;">
                                            <div class="align-self-end w-100" style="background-color: rgba(0, 0, 0, 0.6); ">
                                                <div class="row mb-2">
                                                    <div class="col-4 text-muted" style="margin-left: 20px;">Michał Kwiatek</div>
                                                    <div class="col-4 text-right text-muted ml-auto mr-3">{{ article.published_date }}</div>
                                                </div>
                                                <div class="row mb-2">
                                                    <div class="col">
                                                        <h2 class="card-title" style="padding-left: 20px;">{{ article.title }}</h3>
                                                    </div>
                                                </div>
                                                <div class="row pb-2">
                                                    <div class="col" style="margin-left: 20px;">
                                                        {% for tag in article.categories.all %}
                                                            <a class="bg-dark text-white p-2 mr-3" href="/?category={{ tag.tag_name }}">{{ tag.tag_name }}</a>
                                                        {% endfor %}
                                                        
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        
                                    </div>
                                </div>
                                <hr>
                            </div>
                            

                        {% else %}

                            {% if forloop.counter|divisibleby:2 %}
                                
                                <div class="row mb-5 mt-5">
                                    <div class="col-5 mr-auto">
                                        
                                        <div class="card">
                                            <a href="{% url 'article' slug=article.slug %}" style="cursor:pointer; text-decoration:none;">
                                            <img src="http://bi.gazeta.pl/im/02/36/10/z17000194V,Google.jpg" alt="" >
                                            </a>
                                            <div class="card-header" style="min-height: 200px;">
                                                <a href="{% url 'article' slug=article.slug %}" style="cursor:pointer; text-decoration:none;">
                                                <h3 class="card-title" style="height: 40%">Pros and cons of being a programmer</h3>
                                                </a>
                                                <p>
                                                    <div class="row mb-2">
                                                        <div class="col-5">
                                                        <small class="font-weight-bold">Michał Kwiatek</small> 
                                                        </div>
                                                        <div class="col-5 ml-auto text-right">
                                                        <small>01.01.2018</small>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col">
                                                            <a href="" class="bg-dark text-white p-1 mr-1 my-1 d-inline-block"><small>Python</small></a>
                                                            <a href="" class="bg-dark text-white p-1 mx-1 my-1 d-inline-block"><small>AI</small></a>
                                                            <a href="" class="bg-dark text-white p-1 mx-1 my-1 d-inline-block"><small>JavaScript</small></a>
                                                            <a href="" class="bg-dark text-white p-1 mx-1 my-1 d-inline-block"><small>Lifestyle</small></a>
                                                        </div>
                                                    </div>
                                                </p>
                                            </div>
                                            <div class="card-body" style="height: 160px;">
                                                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Commodi vel ipsa odio labore optio aspernatur accusantium, obcaecati temporibus similique esse...</p>
                                            </div>
                                        </div>
                                        
                                    </div>                            

                            {% else %}
                                <div class="col-5 ml-auto">
                                    <div class="card">
                                <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRXI_izTOiJ2mFhSA29Su11ZAZz6fT0oNqrAQkSRJ6RtgGFJMHt" alt="" style="min-height:200px">
                                <div class="card-header" style="min-height: 200px;">
                                    <h3 class="card-title" style="height: 40%">How not to be a dick</h3>
                                    <p>
                                        <div class="row mb-2">
                                            <div class="col-5">
                                            <small class="font-weight-bold">Michał Kwiatek</small> 
                                            </div>
                                            <div class="col-5 ml-auto text-right">
                                            <small>01.12.2019</small>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col">
                                                <a href="" class="bg-dark text-white p-1 mr-1 my-1 d-inline-block"><small>Python</small></a>
                                                <a href="" class="bg-dark text-white p-1 mx-1 my-1 d-inline-block"><small>AI</small></a>
                                                <a href="" class="bg-dark text-white p-1 mx-1 my-1 d-inline-block"><small>JavaScript</small></a>
                                                <a href="" class="bg-dark text-white p-1 mx-1 my-1 d-inline-block"><small>Lifestyle</small></a>
                                            </div>
                                        </div>
                                    </p>
                                        </div>
                                        <div class="card-body" style="height: 160px;">
                                            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Commodi vel ipsa odio labore optio aspernatur accusantium...</p>
                                        </div>
                                     </div>
                                </div>
                                <hr>
                                </div>
                                

                            {% endif %}

                            

                        {% endif %}

                    {% endfor %}

                

                <!-- IF width < lg -->
                    <div class="row d-lg-none mb-4">
                        
                        
                        {% for article in articles %}

                            {% if not foorloop.counter|divisibleby:2 %}

                            <div class="row">                          
                                <div class="col-xs-12 col-md-5 mr-auto">
                                    <div class="card">
                                        <img src="https://source.unsplash.com/random/400x300" alt="">
                                        <div class="card-header" style="min-height: 200px;">
                                            <h3 class="card-title" style="height: 40%">How not to be a dick</h3>
                                            <p>
                                                <div class="row mb-2">
                                                    <div class="col-5">
                                                    <small class="font-weight-bold">Michał Kwiatek</small> 
                                                    </div>
                                                    <div class="col-5 ml-auto text-right">
                                                    <small>01.12.2019</small>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col">
                                                        <a href="" class="bg-dark text-white p-1 mr-1 my-1 d-inline-block"><small>Python</small></a>
                                                        <a href="" class="bg-dark text-white p-1 mx-1 my-1 d-inline-block"><small>AI</small></a>
                                                        <a href="" class="bg-dark text-white p-1 mx-1 my-1 d-inline-block"><small>JavaScript</small></a>
                                                        <a href="" class="bg-dark text-white p-1 mx-1 my-1 d-inline-block"><small>Lifestyle</small></a>
                                                    </div>
                                                </div>
                                            </p>
                                        </div>
                                        <div class="card-body" style="height: 160px;">
                                            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Commodi vel ipsa odio labore optio aspernatur accusantium...</p>
                                        </div>
                                    </div>

                            {% else %}
                                    <div class="col-xs-12 col-md-5 ml-auto">
                                        <div class="card">
                                            <img src="https://source.unsplash.com/random/400x300" alt="">
                                            <div class="card-header" style="min-height: 200px;">
                                                <h3 class="card-title" style="height: 40%">How not to be a dick</h3>
                                                <p>
                                                    <div class="row mb-2">
                                                        <div class="col-5">
                                                        <small class="font-weight-bold">Michał Kwiatek</small> 
                                                        </div>
                                                        <div class="col-5 ml-auto text-right">
                                                        <small>01.12.2019</small>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col">
                                                            <a href="" class="bg-dark text-white p-1 mr-1 my-1 d-inline-block"><small>Python</small></a>
                                                            <a href="" class="bg-dark text-white p-1 mx-1 my-1 d-inline-block"><small>AI</small></a>
                                                            <a href="" class="bg-dark text-white p-1 mx-1 my-1 d-inline-block"><small>JavaScript</small></a>
                                                            <a href="" class="bg-dark text-white p-1 mx-1 my-1 d-inline-block"><small>Lifestyle</small></a>
                                                        </div>
                                                    </div>
                                                </p>
                                            </div>
                                            <div class="card-body" style="height: 160px;">
                                                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Commodi vel ipsa odio labore optio aspernatur accusantium...</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                    <hr>

                            {% endif %}
                        {% endfor %}
                    


                    </div>                

            </div>
        
        </div>
    
    
    </div>
    
    {% comment %} Pagination {% endcomment %}
    {% if is_paginated %}
        <div class="pagination">
            <span class="page-links">
                {% if page_obj.has_previous %}
                    <a href="/?page={{ page_obj.previous_page_number }}">previous</a>
                {% endif %}
                <span class="page-current">
                    Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}.
                </span>
                {% if page_obj.has_next %}
                    <a href="/?page={{ page_obj.next_page_number }}">next</a>
                {% endif %}
            </span>
        </div>
    {% endif %}

{% endblock %}
{% block scripts %}
    <script src="{% static 'js/home.js' %}"></script>
{% endblock %}


